@* Reusable Accordion component with expand/collapse *@

<div class="accordion" @attributes="AdditionalAttributes">
    <button type="button"
            class="accordion-header"
            @onclick="Toggle"
            aria-expanded="@isExpanded">
        <span class="accordion-icon @(isExpanded ? "accordion-icon--expanded" : "")">
            <svg width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M1 1L7 7L13 1"
                      stroke="#003663"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round" />
            </svg>
        </span>
        <span class="accordion-title">@Title</span>
    </button>

    @if (isExpanded)
    {
        <div class="accordion-body">
            @ChildContent
        </div>
    }
</div>

@code {
    [Parameter] public string Title { get; set; } = string.Empty;
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public bool InitiallyExpanded { get; set; } = true;
    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private bool isExpanded;

    protected override void OnInitialized()
    {
        isExpanded = InitiallyExpanded;
    }

    private void Toggle()
    {
        isExpanded = !isExpanded;
    }
}
